(function(e){function t(t){for(var s,a,l=t[0],c=t[1],r=t[2],h=0,_=[];h<l.length;h++)a=l[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&_.push(n[a][0]),n[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(_.length)_.shift()();return o.push.apply(o,r||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,l=1;l<i.length;l++){var c=i[l];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},n={index:0},o=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var d=c;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0628":function(e,t,i){"use strict";i("587b")},1:function(e,t){},1819:function(e,t,i){"use strict";i("bdaa")},"1b11":function(e,t){e.exports={line:{xAxis:{type:"category",name:"日期",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],nameLocation:"center",nameGap:20,axisLine:{show:!0,lineStyle:{color:"black"}},splitLine:{show:!0,lineStyle:{color:"#ccc"}}},tooltip:{trigger:"axis"},yAxis:{type:"value",name:"数量",axisLine:{show:!0,lineStyle:{color:"black"}},splitLine:{show:!0,lineStyle:{color:"#ccc"}}},grid:[{show:!0,backgroundColor:"rgba(0,0,0,0.05)",containLabel:!0,borderColor:"black",zlevel:2,borderWidth:1,top:30,right:10,bottom:20,left:10}],series:[{data:[150,230,224,218,135,147,260],type:"line"}]}}},"339d":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);var s=i("3280"),n=i("edfd"),o=i.n(n),a=(i("13e3"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)}),l=[],c=function(){var e=this,t=e._self._c;return t("div",{class:"main"+(e.darkmode?" dark_mode":"")+(e.read_mode?" read_mode":""),attrs:{id:"app_"}},[t("div",{class:e.position_mode?"position_mode":"",attrs:{id:"main"}},[t("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("div",{class:"config_board tool_board "+(e.tool_bar_show?"":"collapse")},[t("div",{staticClass:"btn plain menu",on:{click:function(t){e.tool_bar_show=!e.tool_bar_show}}},[t("i",{class:e.tool_bar_show?"el-icon-close":"el-icon-menu"})]),e._l(e.tool_bar_list,(function(i){return t("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"item.show"}],key:i.name,class:"header_item "+(i.enable?"enable":"disable"),style:"width:"+i.width+"px;"+i.style},[t("div",{staticClass:"header_btn",on:{click:function(e){i.enable&&"btn"!=i.type&&i.click()}}},[t("i",{class:i.icon,domProps:{textContent:e._s(i.title)}}),"btn"==i.type?t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return i.click()}},model:{value:i.enable,callback:function(t){e.$set(i,"enable",t)},expression:"item.enable"}}):e._e()],1),t("div",{staticClass:"header_name"},[e._v(e._s(i.name))])])}))],2),t("el-main",{staticStyle:{height:"100vh",width:"100vw","border-radius":"0px",padding:"0px"},attrs:{id:"antv_container"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.pushed_pic_config.show,expression:"pushed_pic_config.show"}],staticClass:"big_board"},[t("div",{staticClass:"behind_",on:{click:function(t){e.pushed_pic_config.show=!1}}}),t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.pushed_pic_config.loading,expression:"pushed_pic_config.loading"}],staticClass:"edit_board"},[t("img",{staticStyle:{width:"100%"},attrs:{id:"pushed_image",src:e.pushed_pic_config.base64||e.pushed_pic_config.url}}),t("p",{directives:[{name:"show",rawName:"v-show",value:""==e.pushed_pic_config.base64&&""==e.pushed_pic_config.url&&!e.pushed_pic_config.pushed,expression:"pushed_pic_config.base64=='' && pushed_pic_config.url==''  && !pushed_pic_config.pushed"}],staticStyle:{"text-align":"center"}},[e._v("NO IMAGE!")]),t("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"Image url"},model:{value:e.pushed_pic_config.url,callback:function(t){e.$set(e.pushed_pic_config,"url",t)},expression:"pushed_pic_config.url"}}),t("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"Image url"},model:{value:e.pushed_pic_config.name,callback:function(t){e.$set(e.pushed_pic_config,"name",t)},expression:"pushed_pic_config.name"}}),e.pushed_pic_config.url.length>0&&e.pushed_pic_config.name.length>0?t("div",{staticClass:"btn green",on:{click:e.__upload_pic_to_gitee_file}},[e._v("Upload the image")]):e._e(),e.pushed_pic_config.url.length>0?t("div",{staticClass:"btn green",on:{click:e.__tool_add_pic_2}},[e._v("Add to canvas")]):e._e()],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.secretKey_show,expression:"secretKey_show"}],staticClass:"big_board"},[t("div",{staticClass:"behind_",on:{click:function(t){e.secretKey_show=!1}}}),t("el-card",{staticClass:"edit_board secretKeysboard"},[t("div",{staticClass:"line"},[e._v(" "+e._s(e.file_name+"."+e.file_type)+": "),t("el-input",{attrs:{value:e.secretKeys[e.file_name+"."+e.file_type]}})],1),e.file_name+"."+e.file_type in e.secretKeys?t("div",{staticClass:"btn red",on:{click:e.__tool_remove_secret_key}},[e._v("Omit")]):t("div",{staticClass:"btn green",on:{click:e.__tool_add_secret_key}},[e._v("Add")])])],1),e.first_load?t("div",{staticClass:"first_load_cover"},[t("div",{staticClass:"first_load_board"},[e.read_mode?t("div",[e._v(" "+e._s(e.cover_msg)+" ")]):t("div",[e._v(" Operations: "),t("div",{staticClass:"btn green iconfont icon-new",on:{click:e.__init_a_blank_project}},[e._v(" Create")]),e.gitee_enable?t("div",{staticClass:"btn green iconfont icon-storage",on:{click:e.__init_an_online_project}},[e._v(" Open")]):e._e()])])]):e._e(),!e.read_mode&&e.node_config.show?t("div",{staticClass:"config_board node_config_board"},[t("div",{staticClass:"board_title"},[t("el-row",{staticStyle:{"margin-top":"0px"}},[t("el-col",{attrs:{span:18}},[e._v(" Node Config ")]),t("el-col",{attrs:{span:6}})],1),e.markdown_mode?t("div",{staticClass:"btn green",staticStyle:{height:"10px",width:"10px","line-height":"10px","border-radius":"20px",position:"absolute",top:"0px",right:"10px","font-size":"14px"},on:{click:function(t){e.markdown_mode=!1}}},[e._v("X")]):e._e()],1),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Title")])]),t("el-input",{attrs:{placeholder:"input the title"},on:{change:e.__change_node_title},model:{value:e.node_config.title,callback:function(t){e.$set(e.node_config,"title",t)},expression:"node_config.title"}})],1),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Content "),t("el-button",{staticStyle:{background:"transparent",border:"0px"},attrs:{plain:"",icon:"el-icon-edit"},on:{click:function(t){e.markdown_mode=!0}}})],1)]),t("el-input",{class:e.markdown_mode?"markdown_mode":"",attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"Input the content"},on:{change:e.__change_node_note},model:{value:e.node_config.note,callback:function(t){e.$set(e.node_config,"note",t)},expression:"node_config.note"}})],1),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(" Style ")]),t("el-select",{attrs:{placeholder:"choose one"},on:{change:e.__change_node_style},model:{value:e.node_config.style,callback:function(t){e.$set(e.node_config,"style",t)},expression:"node_config.style"}},e._l(e.node_styles,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),"fold"==e.node_config.style?t("el-row",{staticClass:"line"},[t("el-col",{attrs:{span:18}},[e._v("Folding")]),t("el-col",{attrs:{span:6}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.__change_node_fold},model:{value:e.node_config.fold,callback:function(t){e.$set(e.node_config,"fold",t)},expression:"node_config.fold"}})],1)],1):e._e(),"pin"==e.node_config.style?t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Pinner")])]),t("el-input",{attrs:{placeholder:"input the character"},on:{change:e.__change_node_pin},model:{value:e.node_config.pin,callback:function(t){e.$set(e.node_config,"pin",t)},expression:"node_config.pin"}})],1):e._e(),t("el-row",{staticClass:"line"},[t("el-col",{attrs:{span:18}},[e._v("Scale")]),t("el-col",{attrs:{span:6}},[t("el-button-group",[t("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.__increase_node_scale}}),t("el-button",{attrs:{icon:"el-icon-minus"},on:{click:e.__decrease_node_scale}})],1)],1)],1),0!=e.selected_node.store.data.idx?t("div",{staticClass:"btn",on:{click:e.__del_node}},[e._v("Delete")]):e._e()],1):e._e(),e.node_config.show&&""!=e.node_config.note?t("div",{class:"md_node_note"+(e.markdown_mode?" markdown_mode":""),attrs:{id:"node_note"}},[t("div",{class:"btn green "+(e.node_note_raw_text?"el-icon-tickets":"el-icon-notebook-2"),staticStyle:{width:"10px","border-radius":"20px",height:"10px","font-size":"10px","line-height":"10px"},on:{click:function(t){e.node_note_raw_text=!e.node_note_raw_text}}}),e.node_note_raw_text?t("textarea",{staticStyle:{width:"30vw",border:"0px",height:"50vh","border-radius":"5px",padding:"5px"},domProps:{value:e.node_config.note}}):t("div",{domProps:{innerHTML:e._s(e.markdown.render(e.node_config.note))}})]):e._e(),e.image_config.show&&""!=e.image_config.url?t("img",{staticClass:"preview_pic_note",staticStyle:{cursor:"zoom-in"},attrs:{id:"pushed_image",src:e.imageProxy+e.image_config.url},on:{click:function(t){e.image_config.fullscreen=!0}}}):e._e(),!e.read_mode&&e.edge_config.show?t("div",{staticClass:"config_board edge_config_board"},[t("div",{staticClass:"board_title"},[e._v(e._s(e.edge_config.title))]),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Title")])]),t("el-input",{attrs:{placeholder:"input the label"},on:{change:e.__change_edge_label},model:{value:e.edge_config.label,callback:function(t){e.$set(e.edge_config,"label",t)},expression:"edge_config.label"}})],1),t("div",{staticClass:"btn",on:{click:e.__del_edge}},[e._v("Delete")])],1):e._e(),!e.read_mode&&e.group_config.show?t("div",{staticClass:"config_board group_config_board"},[t("div",{staticClass:"board_title"},[e._v("Edit")]),t("el-card",{staticStyle:{"margin-top":"10px"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(" Style ")]),t("el-select",{attrs:{placeholder:"choose one"},on:{change:e.__change_group_style},model:{value:e.group_config.style,callback:function(t){e.$set(e.group_config,"style",t)},expression:"group_config.style"}},e._l(e.group_styles,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("div",{staticClass:"btn",on:{click:e.__del_group}},[e._v("Delete")])],1):e._e(),!e.read_mode&&e.chart_config.show?t("div",{staticClass:"config_board chart_config_board"},[t("div",{staticClass:"board_title"},[e._v("Edit")]),t("el-card",{staticStyle:{"margin-top":"10px"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(" Style ")]),t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.chart_config.style,callback:function(t){e.$set(e.chart_config,"style",t)},expression:"chart_config.style"}},e._l(e.chart_styles,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-card",{staticStyle:{"margin-top":"10px"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(" Data ")]),t("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"input the title"},model:{value:e.chart_config.title,callback:function(t){e.$set(e.chart_config,"title",t)},expression:"chart_config.title"}},[t("template",{slot:"prepend"},[e._v("Title")])],2),t("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"input the X-axis data (name:x1,x2,...,xn)"},model:{value:e.chart_config.x_axis,callback:function(t){e.$set(e.chart_config,"x_axis",t)},expression:"chart_config.x_axis"}},[t("template",{slot:"prepend"},[e._v("X Axis")])],2),t("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"input the Y-axis name"},model:{value:e.chart_config.y_axis,callback:function(t){e.$set(e.chart_config,"y_axis",t)},expression:"chart_config.y_axis"}},[t("template",{slot:"prepend"},[e._v("Y Axis")])],2),t("el-input",{attrs:{placeholder:"input data (d1,d2,...,dn)"},model:{value:e.chart_config.data,callback:function(t){e.$set(e.chart_config,"data",t)},expression:"chart_config.data"}},[t("template",{slot:"prepend"},[e._v("Data")])],2)],1),t("div",{staticClass:"btn green",on:{click:e.__update_chart}},[e._v("Update Chart")]),t("div",{staticClass:"btn",on:{click:e.__del_chart}},[e._v("Delete")])],1):e._e(),!e.read_mode&&e.image_config.show?t("div",{staticClass:"config_board image_config_board"},[t("div",{staticClass:"board_title"},[e._v(e._s(e.image_config.title))]),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Image Url")])]),t("el-input",{attrs:{placeholder:"input the url"},on:{change:e.__change_image_url},model:{value:e.image_config.url,callback:function(t){e.$set(e.image_config,"url",t)},expression:"image_config.url"}})],1),t("div",{staticClass:"btn",on:{click:e.__del_image}},[e._v("Delete")])],1):e._e(),!e.read_mode&&e.html_config.show?t("div",{staticClass:"config_board html_config_board"},[t("div",{staticClass:"board_title"},[e._v(e._s(e.html_config.title))]),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("Link Url")])]),t("el-input",{attrs:{placeholder:"input the url"},on:{change:e.__change_html_url},model:{value:e.html_config.url,callback:function(t){e.$set(e.html_config,"url",t)},expression:"html_config.url"}})],1),t("div",{staticClass:"btn",on:{click:e.__del_html}},[e._v("Delete")])],1):e._e(),!e.read_mode&&e.anchor_config.show?t("div",{staticClass:"config_board anchor_config_board"},[t("div",{staticClass:"board_title"},[e._v(e._s(e.anchor_config.title))]),t("el-card",[t("el-select",{attrs:{placeholder:"choose one"},on:{change:e.__change_anchor},model:{value:e.anchor_config.position,callback:function(t){e.$set(e.anchor_config,"position",t)},expression:"anchor_config.position"}},e._l(e.positions,(function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e}})})),1)],1),t("div",{staticClass:"btn green",on:{click:function(t){return e.to_position(e.anchor_config.position)}}},[e._v("Jump to "+e._s(e.anchor_config.position.name))]),t("div",{staticClass:"btn",on:{click:e.__del_anchor}},[e._v("Delete")])],1):e._e(),!e.read_mode&&e.file_config.show?t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.file_config.loading,expression:"file_config.loading"}],staticClass:"config_board file_config_board"},[t("div",{staticClass:"board_title"},[e._v(e._s(e.file_config.title))]),t("div",{staticStyle:{display:"flex"}},[t("div",{staticClass:"btn blue iconfont icon-refresh",on:{click:e.__get_gitee_files}}),t("div",{staticClass:"btn blue iconfont icon-new",on:{click:e.__add_file_group}}),t("div",{staticClass:"btn green iconfont icon-upload",on:{click:e.__upload_file_group}})]),e._l(e.file_config.groups,(function(i,s){return t("div",{key:i.name,staticClass:"group_item"},[t("p",{staticStyle:{"font-size":"1.2rem","font-weight":"bold","line-height":"20px",margin:"5px 0px"}},[e._v(e._s(i.name))]),t("div",{directives:[{name:"show",rawName:"v-show",value:i.list.length<=0,expression:"group.list.length<=0"}],staticClass:"btn red",staticStyle:{width:"calc(100% - 30px)"},on:{click:function(t){return e.__delete_file_group(s)}}},[e._v("Delete Group")]),t("draggable",{staticClass:"list-group",attrs:{list:i.list,group:"files"}},e._l(i.list,(function(i){return t("div",{key:i.path,staticClass:"file_item list-group-item"},[t("div",{class:i.path in e.secretKeys?"encrypted":"open",staticStyle:{width:"100%",float:"right","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},on:{click:function(t){return e.__load_gitee_file(i.path,i.sha)}}},[t("i",{staticClass:"el-icon-document"}),e._v(e._s(i.path.split("."+e.file_type)[0])+" ")])])})),0)],1)}))],2):e._e(),e.image_config.fullscreen?t("div",{staticClass:"fullscreen_image",style:{backgroundImage:"url("+e.imageProxy+e.image_config.url+")"},on:{click:function(t){e.image_config.fullscreen=!1}}}):e._e()],1)],1),t("div",{class:e.position_mode?"position_mode":"",attrs:{id:"center"},on:{click:function(t){e.position_mode=!1}}}),t("div",{class:e.position_mode?"position_mode":"",attrs:{id:"right"}},[e._l(e.positions,(function(i){return t("div",{key:i.name,staticClass:"btn green",staticStyle:{height:"40px","line-height":"40px",padding:"0px",width:"calc(100% - 40px)",overflow:"hidden"}},[t("div",{staticStyle:{width:"calc(100% - 40px)",background:"transparent"},attrs:{title:i.name},on:{click:function(t){return e.to_position(i)}}},[e._v(e._s(i.name))]),e.read_mode?e._e():t("i",{staticClass:"el-icon-close close-btn",staticStyle:{width:"40px","line-height":"40px"},on:{click:function(t){return e.delte_position(i)}}})])})),0==e.positions.length?t("span",{staticStyle:{position:"absolute",top:"20px",left:"0px",width:"100%"}},[e._v("No Locations")]):e._e()],2),e.read_mode?e._e():t("div",{class:e.position_mode?"position_mode":"",attrs:{id:"bottom"}},[t("div",{staticClass:"btn blue",staticStyle:{width:"120px"},on:{click:e.add_position}},[t("i",{staticClass:"el-icon-add-location"}),e._v(" Add position")])])])},r=[],d=(i("faef"),i("1c24"),i("1998")),h=i("b14c"),_=i.n(h),g=i("8647"),p=i.n(g),f=i("1b11"),u=i.n(f),m=i("d722"),y=(i("be35"),i("b965")),b=i.n(y);i("d458");const v=window.matchMedia("(prefers-color-scheme: dark)").matches,w=i("46d1"),x=i("711f")({html:!0}).use(i("15fa"),{inline:!0}).use(b.a),k=i("c23a");function C(e,t){let i=document.getElementById(e+"box").getElementsByClassName("title")[0];i.innerHTML=x.render(t.title);let s=u.a[t.style];try{s["xAxis"]["name"]=t.x_axis.split(":")[0]}catch(o){s["xAxis"]["name"]="x"}s["xAxis"]["data"]=t.x_axis.split(":")[1].split(","),s["yAxis"]["name"]=t.y_axis;try{s["series"][0]["data"]=t.data.split(",")}catch(o){return}let n=k.init(document.getElementById(e+"chart"));n.setOption(s),n.resize()}i("2aea"),i("77b9"),i("8e0c"),i("15b7"),i("fa35");const $={inherit:"edge",attrs:{line:{stroke:"#333",strokeWidth:2,sourceMarker:{tagName:"path",strokeWidth:2,d:"M 0 -10 L 0 10 Z"},targetMarker:{name:"classic",width:12,height:8}}},zIndex:1e3,defaultLabel:{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{label:{fill:"trsnaparent",fontSize:12,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},body:{ref:"label",fill:"white",stroke:"#333",strokeWidth:2,rx:4,ry:4,refWidth:"140%",refHeight:"140%",refX:"-20%",refY:"-20%"}},position:{distance:.5,options:{absoluteDistance:!0,reverseDistance:!0}}}},S={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"},{group:"left"},{group:"right"}]};d["a"].registerEdge("edge",$,!0);const N="";d["a"].registerHTMLComponent("first",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text' id='"+t["id"]+"box'><div class='title'>"+x.render(t["title"])+"</div></div>",i.className="node first "+t["style"],i}),d["a"].registerHTMLComponent("second",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'><div class='title'>"+x.render(t["title"])+"</div></div>",i.className="node second "+t["style"],i.id=t["id"],i}),d["a"].registerHTMLComponent("note",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'><div class='pinner'>"+t["pin"]+"</div><div class='pinner'>"+t["pin"]+"</div><div class='title'>"+x.render(t["title"])+"</div><div class='content'>"+x.render(t["note"])+"</div></div>",i.className="node note "+t["style"]+(t["fold"]?" folding":" non-folding")+(t["scale"]?" "+t["scale"]:""),i.id=t["id"],i}),d["a"].registerHTMLComponent("others",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'><div class='title'>"+x.render(t["title"])+"</div></div>",i.className="node others "+t["style"],i.id=t["id"],i}),d["a"].registerHTMLComponent("group",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'></div>",i.className="node group "+t["style"],i.id=t["id"],i}),d["a"].registerHTMLComponent("chart",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'><div class='title'>"+t["title"]+"</div><div class='chart_container' id='"+t["id"]+"chart'></div></div>",i.className="node chart "+t["style"],i.id=t["id"],setTimeout(()=>{C(t["id"],t)},1e3),i}),d["a"].registerHTMLComponent("image",e=>{let t=e.getData();const i=document.createElement("img");return i.className="node image "+t["style"],i.src=N+t["src"],i.id=t["id"],i}),d["a"].registerHTMLComponent("html",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'><iframe class='frame' src='"+t["src"]+"'></iframe></div>",i.className="node html",i.id=t["id"],i}),d["a"].registerHTMLComponent("anchor",e=>{let t=e.getData();const i=document.createElement("div");return i.innerHTML="<div class='inner_text'  id='"+t["id"]+"box'><div class='position'>Go</div><div class='name'>"+t["position"].name+"</div></div>",i.className="node anchor",i.id=t["id"],i});var T={name:"HelloWorld",props:{},components:{draggable:_.a},data:function(){return{gitee_info:{enable:!1,username:"",repos:"",token:""},server_mode:!1,read_mode:!1,position_mode:!1,cover_msg:"Loading...",markdown:x,secretKeys:{},secretKey_show:!1,node_note_raw_text:!1,darkmode:v,loading:!1,first_load:!0,gitee_enable:!1,file_name:"untitled",file_sha:"null",file_type:"mb",imageProxy:N,graph:null,online_file:!1,selected_node:null,selected_edge:null,predefineColors:["#eeeeee","#ffffff","#000000","#b39ddb","#f44336","#009688","#0d47a1"],request_lock:!1,zoom:0,chart_styles:["line"],node_styles:["fold","plain","pin","transparent","pure-green","pure-blue","pure-yellow","pure-red","sticky","emergency","inside","light","border-flash","placeholder"],group_styles:["plain","pure-green","pure-blue","pure-yellow","pure-red","inside","emergency"],tool_bar_show:!1,tool_bar_list:[{name:"Xiaohao Liu",width:150,style:"",enable:!0,show:!0,icon:"mindbox-logo",title:"MindBox",click:()=>{this.index()}},{name:"name",width:200,style:"",enable:!0,show:!0,icon:"",title:"null",click:()=>{this.__file_share_link()}},{name:"group",width:66,style:"",enable:!1,show:!0,icon:"iconfont icon-border",title:"",click:()=>{this.__tool_add_group()}},{name:"note",width:66,style:"",enable:!0,show:!0,icon:"iconfont icon-note",title:"",click:()=>{this.__tool_add_note()}},{name:"chart",width:66,style:"",enable:!0,show:!0,icon:"el-icon-pie-chart",title:"",click:()=>{this.__tool_add_chart()}},{name:"html",width:66,style:"",enable:!0,show:!0,icon:"el-icon-news",title:"",click:()=>{this.__tool_add_html()}},{name:"image",width:66,style:"",enable:!0,show:!0,icon:"iconfont icon-pic",title:"",click:()=>{this.__tool_add_pic()}},{name:"upload",width:50,style:"",enable:!0,show:!0,icon:"iconfont icon-upload",title:"",click:()=>{this.__upload_to_gitee()}},{name:"anchor",width:66,style:"",enable:!0,show:!0,icon:"el-icon-news",title:"",click:()=>{this.__tool_add_anchor()}},{name:"undo",width:66,style:"",enable:!1,show:!0,icon:"iconfont icon-redo",title:"",click:()=>{this.graph.undo()}},{name:"redo",width:66,style:"",enable:!1,show:!0,icon:"iconfont icon-undo",title:"",click:()=>{this.graph.redo()}},{name:"child",width:66,style:"",enable:!1,show:!0,icon:"iconfont icon-create_child_node",title:"",click:()=>{this.__tool_add_child()}},{name:"sibling",width:66,style:"",enable:!1,show:!0,icon:"iconfont icon-create_sibling_node",title:"",click:()=>{this.__tool_add_sibling()}},{name:"zoom up",width:66,style:"",enable:!0,show:!0,icon:"iconfont icon-zoomin",title:"",click:()=>{this.graph.zoomTo(1.2*this.graph.zoom())}},{name:"reset zoom",width:66,style:"",enable:!0,show:!0,icon:"iconfont icon-zoom",title:"",click:()=>{this.graph.zoomTo(1)}},{name:"zoom down",width:66,style:"",enable:!0,show:!0,icon:"iconfont icon-zoomout",title:"",click:()=>{this.graph.zoomTo(.8*this.graph.zoom())}},{name:"dark mode",width:100,style:"",enable:this.darkmode,show:!0,type:"btn",icon:"",title:"",click:()=>{this.darkmode=!this.darkmode,this.tool_bar_list[this.tool_map["darkmode"]].enable=this.darkmode}},{name:"position",width:50,style:"",enable:!0,show:!0,icon:"el-icon-place",title:"",click:()=>{this.position_mode=!0}},{name:"logout",width:100,style:"",enable:!0,show:!0,icon:"el-icon-coffee-cup",title:"",click:()=>{Object(m["removeToken"])(),this.$router.push("/login")}},{name:"secretKey",width:100,style:"",enable:!0,show:!0,icon:"el-icon-key",title:"",click:()=>{this.secretKey_show=!this.secretKey_show}}],tool_map:{file:1,undo:9,redo:10,child:11,sibling:12,group:2,darkmode:16},read_mode_bar:new Set([0,1,9,10,13,14,15,16,17]),pushed_pic_config:{loading:!1,show:!1,name:"",base64:"",pushed:!1,raw:"",url:""},node_config:{show:!1,title:"Node Config",label:"",note:"",fill:"",fold:"",scale:"",stroke:"",style:"",text_color:"",pin:"",can_link:!1},edge_config:{show:!1,title:"Edge Config",label:"",stroke:""},group_config:{show:!1,title:"Group Config",label:"",stroke:""},chart_config:{show:!1,title:"Chart Config",label:"",style:"",data:"",x_axis:"",y_axis:""},image_config:{show:!1,title:"Image Config",url:"",fullscreen:!1},html_config:{show:!1,title:"Html Config",url:""},anchor_config:{show:!1,title:"Anchor Config",position:null},file_config:{show:!1,title:"Files",label:"",loading:!1,groups:[],files:new Set},positions:[],markdown_mode:!1}},mounted:function(){this.server_mode=!0,this.gitee_info=Object(m["getToken"])(),this.gitee_enable=this.gitee_info.enable,console.log(this.gitee_info),this.__init_read_mode(),this.load_secretKeys(),this.__init_graph(),this.__add_events(),this.__add_keyboard_events(),this.read_mode&&this.__load_online_file()},methods:{load_secretKeys:function(){this.read_mode||this.gAPI.get_file_by_path("mindbox.secretKeys").then(e=>{let t=this.__decode(e.data.content);"{}"==t?this.secretKeys={}:(this.secretKeys=JSON.parse(this.__decrypt(t,this.gitee_info.token)),console.log(this.secretKeys))}).catch(e=>{console.log(e)})},upload_secretKeys:async function(){return this.__upload_gitee_file("mindbox.secretKeys",this.__encode(this.__encrypt(JSON.stringify(this.secretKeys),this.gitee_info.token)))},index:function(){!this.read_mode&&this.gitee_enable?(this.file_config.show=!this.file_config.show,1==this.file_config.show&&this.can_request()&&(this.__get_gitee_files(),this.send_a_request())):alert("MindMap\nDesined by Xiaohao Liu.\nGithub: WYKXLDZ")},__init_read_mode:function(){this.gitee_enable||(this.read_mode=!0);try{const e={};window.location.hash.split("?")[1].split("&").forEach(t=>{let i=t.split("=");e[i[0]]=i[1]});let t={enable:!0,username:e["u"],repos:e["r"],token:""};console.log(t),this.file_sha=e["s"],this.file_name=e["n"].split(".mb")[0],"undefined"!=e["k"]&&(this.secretKeys[e["n"]]=e["k"]),this.read_mode=!0,this.gAPI=new m["GiteeAPI"](t),this.gitee_info=t,this.tool_bar_list.forEach((e,t)=>{this.read_mode_bar.has(t)||(e.show=!1)})}catch{return this.read_mode?void(this.cover_msg="参数错误！"):void(this.gAPI=new m["GiteeAPI"](this.gitee_info))}},__load_online_file:function(){if(!this.can_request())return;this.send_a_request(),this.loading=!0;const e=this.file_name+"."+this.file_type;this.gAPI.get_file_by_sha(this.file_sha).then(t=>{let i=this.__decode(t.data.content);e in this.secretKeys?this.jsondata=this.__decrypt(i,this.secretKeys[e]):this.jsondata=i,this.jsondata=JSON.parse(this.jsondata),"graph"in this.jsondata?(this.grpahsource=this.jsondata["graph"],this.positions=this.jsondata["positions"]):this.grpahsource=this.jsondata,this.graph.fromJSON(this.grpahsource),this.graph.centerContent(),this.tool_bar_list[this.tool_map["file"]].title=this.file_name,this.loading=!1,this.online_file=!0,this.first_load=!1,document.getElementsByTagName("title")[0].innerText=this.file_name}).catch(e=>{this.cover_msg="Wrong\n"+e,console.log("wrong:",e),this.loading=!1})},__init_graph:function(){this.tool_bar_list[this.tool_map["darkmode"]].enable=this.darkmode;const e={container:document.getElementById("antv_container"),history:!0,clipboard:{enabled:!this.read_mode,useLocalStorage:!this.read_mode},scroller:{enabled:!1},minimap:{enabled:!1,width:140,height:100,container:document.getElementById("antv_minimap")},translating:{restrict:!0},grid:{size:10,visible:!0},resizing:{enabled:!this.read_mode},embedding:{enabled:!0,findParent({node:e}){const t=e.getBBox();return this.getNodes().filter(e=>{const i=e.getData();if(i&&"group"==i.type){const i=e.getBBox();return t.isIntersectWithRect(i)}return!1})}},highlighting:{embedding:{name:"stroke",args:{padding:-1,attrs:{stroke:"#73d13d"}}}},keyboard:{enabled:!this.read_mode,format(e){return e.replace(/\s/g,"").replace("cmd","command")}},selecting:{className:"select_box",enabled:!0,modifiers:"shift",multiple:!0,rubberband:!0,strict:!0,movable:!0,showNodeSelectionBox:!0},connecting:{allowBlank:!1,allowNode:!this.read_mode,allowMulti:!this.read_mode,allowLoop:!this.read_mode,allowEdge:!1,allowPort:!this.read_mode,highlight:!0,snap:!0,snapline:!0,router:{name:"manhattan",args:{padding:20}},connector:{name:"rounded",args:{radius:8}},createEdge:()=>this.graph.createEdge($),connectionPoint:"anchor"},panning:!0,background:{}};this.graph=new d["a"](e)},send_a_request:function(){this.request_lock=!0,setTimeout(()=>{this.request_lock=!1},2e3)},can_request:function(){return 1!=this.request_lock||(this.$notify({title:"请求速率过快",message:"2s后重试"}),!1)},__init_an_online_project:function(){this.file_config.show=!0,this.__get_gitee_files(),this.first_load=!1,this.online_file=!0},generate_id:function(e){return e+String((new Date).getTime())},__init_a_blank_project:function(){this.graph.fromJSON({});let e={};for(let t in p.a["first"])this.$set(e,t,p.a["first"][t]);this.$set(e["data"],"id",this.generate_id("first")),this.graph.addNode(e),this.graph.centerContent(),this.tool_bar_list[this.tool_map["file"]].title=this.file_name,this.file_name="untitled",this.tool_bar_list[this.tool_map["file"]].title=this.file_name,this.first_load=!1,this.online_file=!1,document.getElementsByTagName("title")[0].innerText="new file"},__enable:function(e){this.tool_bar_list[this.tool_map[e]].enable=!0},__disable:function(e){this.tool_bar_list[this.tool_map[e]].enable=!1},__update_chart:function(){this.selected_node.updateData({title:this.chart_config.title,data:this.chart_config.data,style:this.chart_config.style,x_axis:this.chart_config.x_axis,y_axis:this.chart_config.y_axis});let e=this.selected_node.getData()["id"];C(e,this.chart_config)},__change_node_title:function(){this.selected_node.updateData({title:this.node_config.title});let e=document.getElementById(this.selected_node.getData()["id"]+"box").getElementsByClassName("title")[0];e.innerHTML=this.markdown.render(this.node_config.title);let t=document.getElementById(this.selected_node.getData()["id"]).offsetWidth+20,i=this.selected_node.getProp("size");this.selected_node.setProp("size",{width:t,height:i.height})},__change_node_can_link:function(){let e=document.getElementById(this.selected_node.getData()["id"]+"box");this.selected_node&&e.setAttribute("magnet",this.node_config.can_link)},__change_node_note:function(){if(this.selected_node.updateData({note:this.node_config.note}),"note"==this.selected_node.getData()["type"]){let e=document.getElementById(this.selected_node.getData()["id"]+"box").getElementsByClassName("content")[0];e.innerHTML=this.markdown.render(this.node_config.note)}},__change_node_style:function(){let e=document.getElementById(this.selected_node.getData()["id"]);e.className=e.className.replace(this.selected_node.getData()["style"],this.node_config.style),this.selected_node.updateData({style:this.node_config.style}),"pin"!=this.node_config.style||"pin"in this.selected_node.getData()||(this.selected_node.setData({pin:"📌"}),this.node_config.pin="📌",this.__change_node_pin())},__change_node_pin:function(){this.selected_node.updateData({pin:this.node_config.pin});let e=document.getElementById(this.selected_node.getData()["id"]).getElementsByClassName("pinner");e[0].innerHTML=this.node_config.pin.substring(0),e[1].innerHTML=this.node_config.pin.substring(0)},__change_node_fold:function(){this.selected_node.updateData({fold:this.node_config.fold});let e=document.getElementById(this.selected_node.getData()["id"]);this.node_config.fold?e.className=e.className.replace("non-folding","folding"):e.className=e.className.replace("folding","non-folding")},__increase_node_scale:function(){"min"==this.node_config.scale?(this.node_config.scale="mid",this.___change_node_scale("min")):"mid"==this.node_config.scale&&(this.node_config.scale="max",this.___change_node_scale("mid"))},__decrease_node_scale:function(){"mid"==this.node_config.scale?(this.node_config.scale="min",this.___change_node_scale("mid")):"max"==this.node_config.scale&&(this.node_config.scale="mid",this.___change_node_scale("max"))},___change_node_scale:function(e){let t=document.getElementById(this.selected_node.getData()["id"]);t.className.indexOf(e)>-1?t.className=t.className.replace(e,this.node_config.scale):t.className=t.className+" "+this.node_config.scale,this.selected_node.updateData({scale:this.node_config.scale})},__change_group_style:function(){this.selected_node.updateData({style:this.group_config.style});let e=document.getElementById(this.selected_node.getData()["id"]),t=e.className.split(" ");e.className=[t[0],t[1],this.group_config.style].join(" ")},__change_edge_label:function(){""==this.edge_config.label?this.selected_edge.setLabels({attrs:{text:{text:""}}}):this.selected_edge.setLabels({attrs:{text:{text:" "+this.edge_config.label+" "}}})},__change_image_url:function(){this.selected_node.attr({image:{"xlink:href":N+this.image_config.url}})},__change_html_url:function(){this.selected_node.updateData({src:this.html_config.url});let e=document.getElementById(this.selected_node.getData()["id"]),t=e.getElementsByClassName("frame")[0];t.src=this.html_config.url},__change_anchor:function(){this.selected_node.updateData({position:this.anchor_config.position});let e=document.getElementById(this.selected_node.getData()["id"]);e.getElementsByClassName("name")[0].innerHTML=this.anchor_config.position.name},__add_events:function(){this.graph.on("node:selected",e=>{const t=this.graph.getSelectedCells();this.selected_node=e.node;let i=this.selected_node.getData();if(t.length>1)return this.__enable("group"),this.__disable("child"),this.__disable("sibling"),this.group_config.show=!1,this.node_config.show=!1,this.edge_config.show=!1,this.chart_config.show=!1,this.image_config.show=!1,this.anchor_config.show=!1,this.html_config.show=!1,!1;if("image"==i.type)return this.image_config.show=!0,this.image_config.url=i.src,!1;if("html"==i.type)return this.html_config.show=!0,this.html_config.url=i.src,!1;if("anchor"==i.type)return this.anchor_config.show=!0,this.anchor_config.position=i.position,!1;if("group"==i.type)return this.group_config.show=!0,this.group_config.style=i.style,!1;if("chart"==i.type)return this.chart_config.show=!0,this.chart_config.style=i.style,this.chart_config.data=i.data,this.chart_config.title=i.title,this.chart_config.x_axis=i.x_axis,this.chart_config.y_axis=i.y_axis,!1;for(let s in i)this.node_config[s]=i[s];"true"==document.getElementById(i["id"]+"box").getAttribute("magnet")?this.node_config.can_link=!0:this.node_config.can_link=!1,"fold"in i||(this.node_config.fold=!1,this.selected_node.setData({fold:!1})),"scale"in i||(this.node_config.scale="mid",this.selected_node.setData({scale:"mid"})),this.node_config.show=!0,this.edge_config.show=!1,this.group_config.show=!1,this.chart_config.show=!1,this.image_config.show=!1,this.html_config.show=!1,this.anchor_config.show=!1,this.__disable("group"),this.__enable("child"),this.node_config.note=this.selected_node.store.data.data.note,0!=this.selected_node.store.data.idx&&this.__enable("sibling")}),this.graph.on("node:dblclick",e=>{let t=e.node.getData();"anchor"==t.type&&(this.to_position(t.position),this.anchor_config.show=!1)}),this.graph.on("node:unselected",()=>{this.selected_node=null,this.node_config.show=!1,this.group_config.show=!1,this.chart_config.show=!1,this.image_config.show=!1,this.html_config.show=!1,this.anchor_config.show=!1,this.__disable("child"),this.__disable("sibling"),this.__disable("group")}),this.graph.on("edge:click",e=>{this.selected_edge=e.edge,console.log(this.selected_edge),this.edge_config.show=!0,this.node_config.show=!1,this.chart_config.show=!1,this.group_config.show=!1;try{this.edge_config.label=this.selected_edge.getLabels()[0].attrs.text.text.trim()}catch{this.edge_config.label=""}}),this.graph.on("edge:connected",e=>{if(e.isNew){const t=e.edge.store.data.source.cell,i=e.edge.store.data.target.cell;this.graph.getCell(i).setData({parent:t})}}),this.history=this.graph.history,this.history.on("change",()=>{this.history.canRedo()?this.__enable("redo"):this.__disable("redo"),this.history.canUndo()?this.__enable("undo"):this.__disable("undo")}),this.graph.on("blank:click",()=>{this.edge_config.show=!1,this.node_config.show=!1,this.group_config.show=!1,this.file_config.show=!1,this.chart_config.show=!1,this.image_config.show=!1,this.html_config.show=!1,this.pushed_pic_config.show=!1,this.markdown_mode=!1}),this.__add_paste_event()},__add_keyboard_events:function(){this.graph.bindKey("enter",()=>{this.__tool_add_sibling()}),this.graph.bindKey("ctrl+enter",()=>{this.__tool_add_child()}),this.graph.bindKey("backspace",()=>{this.__del_node()}),this.graph.bindKey("ctrl+c",()=>{const e=this.graph.getSelectedCells();if(e.length){const t=[];e.forEach(e=>{0!=e.store.data.idx&&t.push(e)}),this.graph.copy(t)}return!1}),this.graph.bindKey("ctrl+v",()=>{if(!this.graph.isClipboardEmpty()){const e=this.graph.paste({offset:32});this.graph.cleanSelection(),this.graph.select(e)}return!1}),this.graph.bindKey("ctrl+z",()=>{this.history.canUndo()&&this.graph.undo()}),this.graph.bindKey("ctrl+s",()=>{this.__upload_to_gitee()}),this.graph.bindKey("ctrl+n",()=>{this.__init_a_blank_project()})},__add_paste_event:function(){const e=",.'\":; ";document.addEventListener("paste",t=>{if(this.pushed_pic_config.show){var i=t.clipboardData&&t.clipboardData.items,s=null,n=new FileReader;if(i&&i.length)for(var o=0;o<i.length;o++)if(-1!==i[o].type.indexOf("image")){s=i[o].getAsFile();break}for(var a=this.file_name.substring(0,15).toLowerCase(),l=0;l<e.length;l++)a=a.split(e[l]).join("_");a+="_1.png",n.onload=e=>{this.pushed_pic_config.base64=e.target.result,this.pushed_pic_config.url=this.pushed_pic_config.base64,this.pushed_pic_config.name=a,this.pushed_pic_config.pushed=!1},s&&n.readAsDataURL(s)}})},__del_node:function(){null!=this.selected_node&&0!=this.selected_node.store.data.idx&&(this.graph.removeNode(this.selected_node.id),this.node_config.show=!1,this.image_config.show=!1,this.html_config.show=!1,this.$notify({title:"提示",message:"删除成功"}))},__del_group:function(){null!=this.selected_node&&4==this.selected_node.store.data.idx&&(this.selected_node.getChildren().forEach(e=>{this.selected_node.unembed(e)}),this.group_config.show=!1,this.graph.removeNode(this.selected_node.id),this.$notify({title:"提示",message:"删除成功"}))},__del_chart:function(){this.__del_node()},__del_edge:function(){this.graph.removeEdge(this.selected_edge.id),this.edge_config.show=!1,this.$notify({title:"提示",message:"删除成功"})},__del_image:function(){this.__del_node()},__del_html:function(){this.__del_node()},__del_anchor:function(){this.__del_node()},__tool_add_secret_key:function(){let e=w.MD5(this.file_name+this.file_type+this.gitee_info.token+String((new Date).getTime())).toString();this.$set(this.secretKeys,this.file_name+"."+this.file_type,e)},__tool_remove_secret_key:function(){let e=this.file_name+"."+this.file_type;e in this.secretKeys&&this.$delete(this.secretKeys,e)},__tool_add_note:function(){let e={};for(let i in p.a["note"])this.$set(e,i,p.a["note"][i]);this.$set(e["data"],"id",this.generate_id("note"));let t=this.graph.pageToLocal(window.innerWidth/2,window.innerHeight/2);e.x=t.x,e.y=t.y,this.graph.addNode(e)},__tool_add_chart:function(){let e={};for(let i in p.a["chart"])this.$set(e,i,p.a["chart"][i]);this.$set(e["data"],"id",this.generate_id("chart"));let t=this.graph.pageToLocal(window.innerWidth/2,window.innerHeight/2);e.x=t.x,e.y=t.y,this.graph.addNode(e)},__tool_add_html:function(){let e={};for(let i in p.a["html"])this.$set(e,i,p.a["html"][i]);this.$set(e["data"],"id",this.generate_id("html"));let t=this.graph.pageToLocal(window.innerWidth/2,window.innerHeight/2);e.x=t.x,e.y=t.y,this.graph.addNode(e)},__tool_add_anchor:function(){let e={};for(let i in p.a["anchor"])this.$set(e,i,p.a["anchor"][i]);this.$set(e["data"],"id",this.generate_id("anchor"));let t=this.graph.pageToLocal(window.innerWidth/2,window.innerHeight/2);e.x=t.x,e.y=t.y,this.graph.addNode(e)},__tool_add_pic:function(){this.pushed_pic_config.show=!this.pushed_pic_config.show},__tool_add_pic_2:function(){let e={};for(let i in p.a["image"])this.$set(e,i,p.a["image"][i]);this.$set(e["data"],"id",this.generate_id("image"));let t=this.graph.pageToLocal(window.innerWidth/2,window.innerHeight/2);e.x=t.x,e.y=t.y,e.width=document.getElementById("pushed_image").offsetWidth,e.height=document.getElementById("pushed_image").offsetHeight,this.$set(e["data"],"src",this.pushed_pic_config.url),this.graph.addNode(e),this.pushed_pic_config.pushed=!1,this.pushed_pic_config.show=!1,this.pushed_pic_config.url="",this.pushed_pic_config.name="",this.pushed_pic_config.base64=""},__tool_add_child:function(){if(null==this.selected_node)return;let e=this.selected_node.store.data.idx,t={};if(0==e){for(let e in p.a["second"])this.$set(t,e,p.a["second"][e]);this.$set(t["data"],"id",this.generate_id("second"))}else{for(let e in p.a["others"])this.$set(t,e,p.a["others"][e]);this.$set(t["data"],"id",this.generate_id("others"))}t.parent=this.selected_node.id;let i=this.graph.addNode(t);i.setData({parent:t.parent}),i.setProp("position",{x:this.selected_node.store.data.position.x+parseInt(10*Math.random()),y:this.selected_node.store.data.position.y+this.selected_node.store.data.size.height+40});let s={};for(let n in p.a["edge"])s[n]=p.a["edge"][n];s.source=t.parent,s.target=i.id,this.graph.unselect(this.selected_node),this.graph.select(i),this.graph.addEdge(s),this.$notify({title:"提示",message:"添加子主题成功"})},__tool_add_sibling:function(){if(null==this.selected_node)return;let e=this.selected_node.store.data.idx,t={};if(0==e)return;if(1==e){for(let e in p.a["second"])this.$set(t,e,p.a["second"][e]);this.$set(t["data"],"id",this.generate_id("second"))}else{for(let e in p.a["others"])this.$set(t,e,p.a["others"][e]);this.$set(t["data"],"id",this.generate_id("others"))}t.parent=this.selected_node.getData().parent;let i=this.graph.addNode(t);i.setData({parent:t.parent}),i.setProp("position",{x:this.selected_node.store.data.position.x+this.selected_node.store.data.size.width+10,y:this.selected_node.store.data.position.y+parseInt(10*Math.random())});let s={};for(let n in p.a["edge"])s[n]=p.a["edge"][n];s.source=t.parent,s.target=i.id,this.graph.unselect(this.selected_node),this.graph.select(i),this.graph.addEdge(s),this.$notify({title:"提示",message:"添加主题成功"})},__tool_add_group:function(){const e=this.graph.getSelectedCells(),t=p.a["group"];this.$set(t["data"],"id",this.generate_id("group"));let i=10;if(e.length){let s=0,n=0,o=0,a=0,l=this.graph.addNode(t),c=[],r=[];e.forEach(e=>{c.push(e.store.data.position.x-i),r.push(e.store.data.position.y-i),c.push(e.store.data.position.x+e.store.data.size.width+i),r.push(e.store.data.position.y+e.store.data.size.height+i),l.addChild(e)}),s=Math.min.apply(null,c),n=Math.min.apply(null,r),o=Math.max.apply(null,r)-n,a=Math.max.apply(null,c)-s,l.setProp("size",{width:a,height:o}),l.setProp("position",{x:s,y:n})}return!1},add_position:function(){this.$prompt("请输入位置名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e})=>{this.positions.push({name:e,x:this.graph.coord.options.x,y:this.graph.coord.options.y}),this.$notify({type:"success",message:"新建位置成功："+e})}).catch(()=>{this.$notify({type:"info",message:"取消输入"})})},delte_position:function(e){for(let t=0;t<this.positions.length;t++)if(JSON.stringify(this.positions[t])==JSON.stringify(e)){this.positions.splice(t,1);break}},to_position:function(e){this.graph.translate(e.x,e.y)},__file_share_link:function(){if(this.online_file){const e="http://wykxldz.gitee.io/mindbox/#/read?u="+this.gitee_info.username+"&r="+this.gitee_info.repos+"&s="+this.file_sha+"&n="+this.file_name+"."+this.file_type+"&k="+this.secretKeys[this.file_name+"."+this.file_type];this.$alert("","分享阅读链接",{showInput:!0,inputValue:e})}else this.$prompt("请输入文件名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^([0-9a-zA-z]{1})([\w]*)$/g,inputPlaceholder:this.file_name,inputErrorMessage:"文件格式不正确"}).then(({value:e})=>{this.file_config.files.has(e)?this.$notify({type:"warning",message:"已存在该文件名"}):(this.file_name=e,this.tool_bar_list[this.tool_map["file"]].title=this.file_name,this.$notify({type:"success",message:"修改成功"}))}).catch(()=>{this.$notify({type:"info",message:"取消输入"})})},__get_gitee_files:function(){console.log(this.gitee_info),""!=this.gitee_info.username&&""!=this.gitee_info.repos&&""!=this.gitee_info.token?(this.file_config.loading=!0,this.gAPI.get_files().then(e=>{let t=e.data.tree;this.file_config.groups.splice(0,this.file_config.groups.length);for(let i=0;i<t.length;i++)if("MindBox_file_groups"==t[i].path){this.gAPI.get_file_by_sha(t[i].sha).then(e=>{this.file_config.groups=JSON.parse(this.__decode(e.data.content))}).catch(()=>{this.file_config.groups.push({name:"Files",list:[]})}).finally(()=>{let e=new Set,i=new Set,s={};for(let t=1;t<this.file_config.groups.length;t++)this.file_config.groups[t].list.forEach(t=>{e.add(t.path.split("."+this.file_type)[0])});this.file_config.groups[0].list.splice(0,this.file_config.groups[0].list.length);for(let a=0;a<t.length;a++){let n=t[a].path.split(".");if(n[n.length-1]==this.file_type){let n=t[a].path.split("."+this.file_type)[0];this.file_config.files.add(n),e.has(n)?(i.add(n),s[n]=t[a]):this.file_config.groups[0].list.push(t[a])}}function n(e,t){let i=new Set(e);for(let s of t)i.delete(s);return i}let o=n(e,i);for(let t=1;t<this.file_config.groups.length;t++)this.file_config.groups[t].list.forEach((e,n)=>{let a=e.path.split("."+this.file_type)[0];if(o.has(a)&&this.file_config.groups[t].list.splice(n,n+1),i.has(a))for(let t in e)e[t]=s[a][t]});this.file_config.loading=!1});break}this.file_config.groups.push({name:"Files",list:[]});for(let i=0;i<t.length;i++){let e=t[i].path.split(".");e[e.length-1]==this.file_type&&this.file_config.groups[0].list.push(t[i])}this.file_config.loading=!1}).catch(()=>{this.file_config.loading=!1})):this.$notify({title:" 失败",message:"Gitee 信息有误"})},__load_gitee_file:function(e,t){""!=this.gitee_info.username&&""!=this.gitee_info.repos&&""!=this.gitee_info.token?this.can_request()&&(this.send_a_request(),this.loading=!0,this.file_config.show=!1,this.gAPI.get_file_by_sha(t).then(i=>{console.log("open",e);let s=this.__decode(i.data.content);e in this.secretKeys?this.jsondata=this.__decrypt(s,this.secretKeys[e]):this.jsondata=s,this.jsondata=JSON.parse(this.jsondata),"graph"in this.jsondata?(this.grpahsource=this.jsondata["graph"],this.positions=this.jsondata["positions"]):this.grpahsource=this.jsondata,this.check_graph_source(this.grpahsource),console.log("data:",this.jsondata),this.graph.fromJSON(this.grpahsource),this.graph.centerContent(),this.file_name=e.split(".mb")[0],this.file_sha=t,this.tool_bar_list[this.tool_map["file"]].title=this.file_name,this.loading=!1,this.online_file=!0,document.getElementsByTagName("title")[0].innerText=this.file_name}).catch(e=>{console.log(e),this.loading=!1})):this.$notify({title:" 失败",message:"Gitee 信息有误"})},check_graph_source:function(e){e.cells.forEach(e=>{"ports"in e||(e.ports={...S})})},__upload_gitee_file:async function(e,t){return new Promise((i,s)=>""==this.gitee_info.username||""==this.gitee_info.repos||""==this.gitee_info.token?(this.$notify({title:" 失败",message:"Gitee 信息有误"}),s(!1),!1):this.can_request()?(this.send_a_request(),void this.gAPI.get_file_by_path(e).then(n=>{if(0==n.data.length){const n={content:t};this.gAPI.new_file(e,n).then(t=>{this.$notify({title:"成功",message:e+" 上传成功！"}),this.file_sha=t.data.content.sha,this.file_name=t.data.content.name.split(".mb")[0],i(t.data)}).catch(e=>{this.$notify({title:" 失败",message:e.data.responseJSON.message}),s(e.data)})}else this.$alert("是否替换"+e,"替换",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const o={content:t,sha:n.data.sha};this.gAPI.update_file(e,o).then(t=>{this.$notify({title:"成功",message:e+" 替换成功！"}),console.log(t.data),this.file_sha=t.data.content.sha,this.file_name=t.data.content.name.split(".mb")[0],i(t.data)}).catch(e=>{this.$notify({title:" 失败",message:e.data.responseJSON.message}),s(e.data)})}).catch(e=>{this.$notify({title:"取消替换",message:""}),s(e.data)})}).catch(()=>{this.$notify({title:" 失败",message:"请求出错"})})):(s(!1),!1))},__upload_to_gitee:function(){const e=JSON.stringify({graph:this.graph.toJSON(),positions:this.positions}),t=this.file_name+"."+this.file_type;this.loading=!0;let i=null;if(t in this.secretKeys){i=this.secretKeys[t],console.log(i),console.log(e);const s=this.__encode(this.__encrypt(e,i));this.upload_secretKeys().then(()=>{setTimeout(()=>{this.__upload_gitee_file(t,s).then(()=>{this.loading=!1}).catch(()=>{this.loading=!1})},2e3)}).catch(()=>{this.loading=!1})}else{const i=this.__encode(e);this.upload_secretKeys().then(()=>{setTimeout(()=>{this.__upload_gitee_file(t,i).then(()=>{this.loading=!1}).catch(()=>{this.loading=!1})},2e3)}).catch(()=>{this.loading=!1})}},__upload_pic_to_gitee_file:async function(){let e=this.pushed_pic_config.base64.substring(22),t=this.pushed_pic_config.name;return new Promise((i,s)=>""==this.gitee_info.username||""==this.gitee_info.repos||""==this.gitee_info.token?(this.$notify({title:" 失败",message:"Gitee 信息有误"}),s(!1),!1):(this.pushed_pic_config.loading=!0,this.can_request()?(this.send_a_request(),void this.gAPI.get_file_by_path(t).then(n=>{if(0==n.data.length){const n={content:e};this.gAPI.new_file(t,n).then(e=>{this.$notify({title:"成功",message:t+" 上传成功！"}),this.pushed_pic_config.url=e.data.content.download_url,this.pushed_pic_config.loading=!1,i(e.data)}).catch(e=>{this.$notify({title:" 失败",message:e.data.responseJSON.message}),this.pushed_pic_config.loading=!1,s(e.data)})}else this.$alert("是否替换图片"+t,"替换",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const o={content:e,sha:n.data.sha};this.gAPI.update_file(t,o).then(e=>{this.$notify({title:"成功",message:t+" 替换成功！"}),this.pushed_pic_config.url=e.data.content.download_url,this.pushed_pic_config.loading=!1,i(e.data)}).catch(e=>{this.$notify({title:" 失败",message:e.data.responseJSON.message}),this.pushed_pic_config.loading=!1,s(e.data)})}).catch(e=>{this.$notify({title:"取消替换",message:""}),this.pushed_pic_config.loading=!1,s(e.data)})}).catch(()=>{this.$notify({title:" 失败",message:"请求出错"}),this.pushed_pic_config.loading=!1})):(s(!1),!1)))},__open_file_group:function(e){e<this.file_config.list.groups.length&&(this.file_config.group.idx=e,this.file_config.group.show=!0)},__upload_file_group:function(){let e=this.__encode(JSON.stringify(this.file_config.groups)),t="MindBox_file_groups";return new Promise((i,s)=>""==this.gitee_info.username||""==this.gitee_info.repos||""==this.gitee_info.token?(this.$notify({title:" 失败",message:"Gitee 信息有误"}),s(!1),!1):(this.file_config.loading=!0,this.can_request()?(this.send_a_request(),void this.gAPI.get_file_by_path(t).then(n=>{if(0==n.data.length){const n={content:e};this.gAPI.new_file(t,n).then(e=>{this.$notify({title:"成功",message:t+" 上传成功！"}),this.file_config.loading=!1,i(e.data)}).catch(e=>{this.$notify({title:" 失败",message:e.data.responseJSON.message}),this.file_config.loading=!1,s(e.data)})}else{const o={content:e,sha:n.data.sha};this.gAPI.update_file(t,o).then(e=>{this.$notify({title:"成功",message:t+" 替换成功！"}),this.file_config.loading=!1,i(e.data)}).catch(e=>{this.$notify({title:"取消",message:""}),this.file_config.loading=!1,s(e.data)})}}).catch(()=>{this.$notify({title:" 失败",message:"请求出错"}),this.file_config.loading=!1})):(s(!1),!1)))},__delete_file_group:function(e){console.log(e),this.file_config.groups.splice(e,1)},__add_file_group:function(){this.$prompt("请输入群组名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w]+/,inputErrorMessage:"格式不正确"}).then(({value:e})=>{this.file_config.groups.push({name:e,list:[]}),this.$notify({type:"success",message:"新建群组: "+e})}).catch(()=>{this.$notify({type:"info",message:"取消输入"})})},__encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))},__decode:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},__encrypt:function(e,t){return w.AES.encrypt(e,t)},__decrypt:function(e,t){let i=w.AES.decrypt(e,t);return i.toString(w.enc.Utf8)},colorHex:function(e){var t=/^(rgb|RGB)/;if(t.test(e)){for(var i="#",s=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n=0;n<s.length;n++){var o=Number(s[n]).toString(16);"0"===o&&(o+=o),i+=o}return i}return String(e)},colorRgb:function(e){var t=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e=e.toLowerCase(),t.test(e)){if(4===e.length){var i="#";for(let t=1;t<4;t+=1)i+=e.slice(t,t+1).concat(e.slice(t,t+1));e=i}var s=[];for(let t=1;t<7;t+=2)s.push(parseInt("0x"+e.slice(t,t+2)));return"RGB("+s.join(",")+")"}return e},getElementsByAttr:function(e,t,i){let s=document.getElementsByTagName(e);for(let n=0;n<=s.length;n++)if(s[n].getAttribute(t)==i)return s[n]}}},I=T,D=(i("1819"),i("0628"),i("d424")),E=Object(D["a"])(I,c,r,!1,null,"c27d9aac",null),P=E.exports,A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg"},[t("div",{staticClass:"board"},[t("i",{staticClass:"icon"},[e._v("MindBox")]),e._v(" | Xiaohao Liu "),t("p",{staticClass:"msg_board",style:{color:e.msg_color}},[e._v(e._s(e.msg))]),t("div",{staticStyle:{padding:"10px",background:"#f3f3f3","border-radius":"10px"}},[t("p",{staticClass:"title"},[e._v("username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],staticClass:"input",domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}}),t("p",{staticClass:"title"},[e._v("repository name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.repo,expression:"repo"}],staticClass:"input",domProps:{value:e.repo},on:{input:function(t){t.target.composing||(e.repo=t.target.value)}}}),t("p",{staticClass:"title"},[e._v("token")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],staticClass:"input",domProps:{value:e.token},on:{input:function(t){t.target.composing||(e.token=t.target.value)}}}),t("div",{staticClass:"button",on:{click:function(t){return e.login()}}},[e._v("Login")])])])])},L=[];const{setToken:B,GiteeAPI:M}=i("d722");var j={data:function(){return{msg:"This app utiles the gitee cloud storage, thus you need to check required information follows:",user:"",repo:"",token:"",is_first_set:!0,msg_color:"black"}},mounted:function(){},methods:{login:function(){const e={enable:!0,username:this.user,repos:this.repo,token:this.token};this.gAPI=new M(e),this.__check("mindbox.check",this.__encode("checked!")).then(t=>{console.log(t),B(e),this.$router.push("/")})},__check:async function(e,t){return new Promise((i,s)=>{if(""==this.user||""==this.repo||""==this.token)return this.$notify({title:" Failed!",message:"Invalid Gitee information!"}),s(!1),!1;this.gAPI.get_file_by_path(e).then(n=>{if(0==n.data.length){const n={content:t};this.gAPI.new_file(e,n).then(e=>{this.$notify({title:"Success!",message:"Infomation correct!"}),i(e.data)}).catch(e=>{this.$notify({title:"Failed",message:"Invalid Gitee information!"}),s(e.data)})}else{const o={content:t,sha:n.data.sha};this.gAPI.update_file(e,o).then(e=>{this.$notify({title:"Success!",message:"Infomation valid!"}),i(e.data)}).catch(e=>{this.$notify({title:"Failed!",message:"Invalid Gitee information!"}),s(e.data)})}}).catch(e=>{this.$notify({title:"Failed!",message:"Invalid Gitee information!"}),s(e.data)})})},__encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}}},z=j,O=(i("706c"),Object(D["a"])(z,A,L,!1,null,"9d5dd41c",null)),K=O.exports,H=i("d60d");const W=new H["a"]({routes:[{path:"/",component:P,alias:["/mindbox","/read"]},{path:"/login",component:K}]}),{getToken:G}=i("d722"),J=["/login"];W.beforeEach(async(e,t,i)=>{const s=G();"/read"===e.path?i():s?"/login"===e.path?i({path:"/"}):i():-1!==J.indexOf(e.path)?i():i("/login")});var q={router:W},R=q,F=(i("e39a"),Object(D["a"])(R,a,l,!1,null,null,null)),U=F.exports;s["default"].use(H["a"]),s["default"].use(o.a),new s["default"]({el:"#app",render:e=>e(U)})},"587b":function(e,t,i){},"706c":function(e,t,i){"use strict";i("339d")},8647:function(e,t){const i={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}}},items:[{group:"top"},{group:"bottom"},{group:"left"},{group:"right"}]};e.exports={first:{width:120,height:60,shape:"html",html:"first",data:{type:"first",id:"",title:"Text",style:"plain",note:""},zIndex:10,ignore_layout:!1,idx:0,ports:{...i}},second:{width:100,height:40,shape:"html",html:"second",data:{type:"second",id:"",title:"Text",style:"plain",note:""},idx:1,zIndex:10,ignore_layout:!1,ports:{...i}},others:{width:80,height:20,shape:"html",html:"others",data:{type:"others",id:"",title:"Text",style:"plain",note:""},idx:2,zIndex:10,ignore_layout:!1,ports:{...i}},note:{width:100,height:40,shape:"html",html:"note",data:{type:"note",id:"",title:"Note",style:"plain",note:""},zIndex:10,idx:3,ignore_layout:!0,ports:{...i}},edge:{source:"",target:"",zIndex:10},group:{width:100,height:40,label:"",shape:"html",html:"group",data:{type:"group",id:"",title:"",style:"plain",note:""},zIndex:1,idx:4,ports:{...i}},chart:{width:400,height:250,label:"",shape:"html",html:"chart",data:{type:"chart",id:"",data:"",title:"chart title",x_axis:"x",y_axis:"y",style:"line"},zIndex:1,idx:4,ports:{...i}},image:{width:100,height:100,shape:"html",html:"image",data:{type:"image",id:"",src:""},ports:{...i}},html:{width:280,height:120,label:"",shape:"html",html:"html",data:{type:"html",id:"",style:"plain",src:"https://httishere.github.io/notion-widget/new/blue-week.html"},zIndex:1,idx:4,ports:{...i}},anchor:{width:100,height:40,label:"",shape:"html",html:"anchor",data:{type:"anchor",position:{name:"原点",x:0,y:0},id:"",style:"plain"},zIndex:1,idx:4,ports:{...i}}}},8929:function(e,t,i){},bdaa:function(e,t,i){},be35:function(e,t,i){},d722:function(e,t,i){i("f430");const s=i("2e29").default;function n(e){this.username=e.username,this.token=e.token,this.repos=e.repos}n.prototype={get_files:async function(){return s({method:"get",url:"https://gitee.com/api/v5/repos/"+this.username+"/"+this.repos+"/git/trees/master",responseType:"json",headers:{Authorization:"token "+this.token}})},get_file_by_sha:async function(e){return s({method:"get",url:"https://gitee.com/api/v5/repos/"+this.username+"/"+this.repos+"/git/blobs/"+e,responseType:"json",headers:{Authorization:"token "+this.token}})},get_file_by_path:async function(e){return s({method:"get",url:"https://gitee.com/api/v5/repos/"+this.username+"/"+this.repos+"/contents/"+e,responseType:"json",headers:{Authorization:"token "+this.token}})},new_file:async function(e,t){return t={access_token:this.token,owner:this.username,repo:this.repos,path:e,message:"[new file] "+e,content:t.content},s({method:"post",url:"https://gitee.com/api/v5/repos/"+this.username+"/"+this.repos+"/contents/"+e,responseType:"json",headers:{Authorization:"token "+this.token},data:t})},update_file:async function(e,t){return t={access_token:this.token,owner:this.username,repo:this.repos,path:e,message:"[update file] "+e,content:t.content,sha:t.sha},s({method:"put",url:"https://gitee.com/api/v5/repos/"+this.username+"/"+this.repos+"/contents/"+e,responseType:"json",headers:{Authorization:"token "+this.token},data:t})}};const o="Gitee-info";function a(){return JSON.parse(localStorage.getItem(o))}function l(e){return localStorage.setItem(o,JSON.stringify(e))}function c(){return localStorage.removeItem(o)}const r="http://localhost:80",d=s.create({baseURL:r,timeout:5e3});async function h(){return d({method:"get",url:"/api/giteeinfo",responseType:"json"})}async function _(){return d({method:"get",url:"/api/is_first"})}async function g(e){return d({method:"post",url:"/api/first_set",data:e})}async function p(e){return d({url:"/api/login",method:"post",data:e})}d.interceptors.request.use(e=>{let t=a();return t&&(e.headers["Authorization"]=t),e},e=>Promise.reject(e)),d.interceptors.response.use(e=>{const t=e.data||{};return-1==t.code?Promise.reject(new Error(t.msg||"Error")):t},e=>{const t=e.response||{};return 401===t.status&&c(),Promise.reject(e)}),e.exports={GiteeAPI:n,checkFirst:_,firstSet:g,login:p,getGiteeInfo:h,setToken:l,getToken:a,removeToken:c,baseURL:r}},e39a:function(e,t,i){"use strict";i("8929")}});
//# sourceMappingURL=index.a076efe5.js.map